<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Inspiration Form</title>
  <link rel="stylesheet" href="form.css">
</head>
<body>
  <form id="form">
    <div class="form-group">
      <label for="title">Title</label>
      <input type="text" id="title" name="title" placeholder="Brief summary of entry" required>
    </div>

    <div class="form-group">
      <label for="inscriber">Inscriber</label>
      <input type="text" id="inscriber" name="inscriber" placeholder="Your name/pen name">
    </div>

    <div class="form-group">
      <label for="date">Date</label>
      <input type="date" id="date" name="date" required>
    </div>

    <div class="form-group">
      <label for="recent-inspiration">Recent Inspiration</label>
      <textarea id="recent-inspiration" name="recent-inspiration" placeholder="What inspired you in the last 24 hours that made a difference or impact on you" required></textarea>
    </div>

    <div class="form-group">
      <label for="additional-thoughts">Additional Thoughts/Reflections</label>
      <textarea id="additional-thoughts" name="additional-thoughts" placeholder="Anything else you'd like to share or reflect upon, beyond your inspiration and lesson/growth opportunity"></textarea>
    </div>

    <button type="submit">Generate</button>
  </form>

  <div id="json-container"></div>

  <script>
    const form = document.getElementById("form");
    const jsonContainer = document.getElementById("json-container");
    const copyButton = document.createElement("button");
    copyButton.setAttribute("id", "copy-button");
    copyButton.setAttribute("disabled", "");
    copyButton.textContent = "Copy JSON to Clipboard";
    jsonContainer.appendChild(copyButton);

    form.addEventListener("submit", (event) => {
      event.preventDefault();
      const formData = new FormData(event.target);
      const submission = Object.fromEntries(formData.entries());
      const jsonCode = JSON.stringify(submission, null, 2);
      const codeDisplay = document.createElement("pre");
      codeDisplay.textContent = jsonCode;
      jsonContainer.appendChild(codeDisplay);
      copyButton.removeAttribute("disabled");
      form.reset();
    });

    copyButton.addEventListener("click", () => {
      const range = document.createRange();
      range.selectNodeContents(jsonContainer.querySelector("pre"));
      const selection = window.getSelection();
      selection.removeAllRanges();
      selection.addRange(range);
      document.execCommand("copy");
      copyButton.textContent = "JSON Copied!";
    });
  </script>
</body>
</html>
