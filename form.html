<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Inspiration Form</title>
  <link rel="stylesheet" href="form.css">
  <style>
    #inspiration-counter {
      font-weight: bold;
    }
    .good {
      color: green;
    }
    .warning {
      color: orange;
    }
    .error {
      color: red;
    }
    #json-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 20px;
    }
    #copy-button {
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <form id="form">
    <div class="form-group">
      <label for="title">Title</label>
      <input type="text" id="title" name="title" placeholder="Brief summary of entry" required>
    </div>
<div class="form-group">
  <label for="inscriber">Inscriber</label>
  <input type="text" id="inscriber" name="inscriber" placeholder="Your name/pen name">
</div>

<div class="form-group">
  <label for="date">Date</label>
  <input type="date" id="date" name="date" required>
</div>

<div class="form-group">
  <label for="recent-inspiration">Recent Inspiration (max 280 characters)</label>
  <textarea id="recent-inspiration" name="recent-inspiration" placeholder="What inspired you in the last 24 hours that made a difference or impact on you" required maxlength="280"></textarea>
  <div id="inspiration-counter" class="good"></div>
</div>

<button type="submit">Generate</button>
  </form>
  <div id="json-container">
    <button id="copy-button" disabled>Copy JSON to Clipboard</button>
  </div>
  <script>
    const form = document.getElementById("form");
    const jsonContainer = document.getElementById("json-container");
    const copyButton = document.getElementById("copy-button");

    const inspirationTextarea = document.getElementById("recent-inspiration");
    const inspirationCounter = document.getElementById("inspiration-counter");
    const maxInspirationLength = inspirationTextarea.getAttribute("maxlength");

    inspirationTextarea.addEventListener("input", () => {
      const currentLength = inspirationTextarea.value.length;
      inspirationCounter.textContent = `${currentLength}/${maxInspirationLength} characters`;
      if (currentLength < maxInspirationLength * 0.8) {
        inspirationCounter.className = "good";
      } else if (currentLength < maxInspirationLength) {
        inspirationCounter.className = "warning";
      } else {
        inspirationCounter.className = "error";
      }
    });

    form.addEventListener("submit", (event) => {
      event.preventDefault();
      const formData = new FormData(event.target);
      const submission = Object.fromEntries(formData.entries());
      const jsonCode = JSON.stringify(submission, null, 2);
      const codeDisplay = document.createElement("pre");
      codeDisplay.textContent = jsonCode;
      jsonContainer.appendChild(codeDisplay);
      copyButton.removeAttribute("disabled");
      form.reset();
    });

    copyButton.addEventListener("click", () => {
      const range = document.createRange();
      range.selectNodeContents(jsonContainer.querySelector("pre"));
      const selection = window.getSelection();
      selection.removeAllRanges();
      selection.addRange(range);
      document.execCommand("copy");
      copyButton.textContent = "JSON Copied!";
    });
  </script
